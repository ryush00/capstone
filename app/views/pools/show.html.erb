<p style="color: green"><%= notice %></p>

<div class="container mt-4">
  <div class="card">
    <div class="card-header">
      <h3>카풀 정보</h3>
    </div>
    <div class="card-body">
      <p><strong>카풀 종류:</strong> <%= @pool.pool_type == "start" ? "시작" : "도착" %></p>
      <p><strong>출발지:</strong> <%= @pool.start_place.name if @pool.start_place %></p>
      <p><strong>목적지:</strong> <%= @pool.end_place.name if @pool.end_place %></p>
      <p><strong>모집 시작:</strong> <%= @pool.start_at.strftime("%Y-%m-%d %H:%M") if @pool.start_at %></p>
      <p><strong>모집 종료:</strong> <%= @pool.end_at.strftime("%Y-%m-%d %H:%M") if @pool.end_at %></p>
      <p><strong>최소 탑승 인원:</strong> <%= @pool.user_min %></p>
      <p><strong>좌석 수:</strong> <%= @pool.user_max %></p>
      <div class="container mt-4">
        <h3>참여자</h3>
        
        <table class="table table-striped">
          <thead>
            <tr>
              <th scope="col">사용자 ID</th>
              <th scope="col">참여 일시</th>
            </tr>
          </thead>
          <tbody>
            <% @pool.bookings.each do |booking| %>
              <tr>
                <td><%= booking.user_id %></td>
                <td><%= booking.created_at.strftime("%Y-%m-%d %H:%M") %></td>
              </tr>
            <% end %>
          </tbody>
        </table>
      </div>
    </div>
    <div class="card-footer text-end">
      <%= link_to '수정하기', edit_pool_path(@pool), class: "btn btn-primary", data: { turbo: true } %>
      <%= link_to '삭제하기', @pool, data: { turbo_method: :delete, turbo_confirm: '정말 삭제하시겠습니까?' }, class: "btn btn-danger" %>
      <%= link_to '모집 마감', finish_pool_path(@pool), class: "btn btn-success" %>
      <%= link_to '목록으로 돌아가기', pools_path, class: "btn btn-secondary", data: { turbo: true } %>
    </div>
  </div>
</div>
